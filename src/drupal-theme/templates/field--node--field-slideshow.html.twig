{#
/**
 * @file
 */
#}

<div class="carousel slide" id="featured_slideshow" data-ride="carousel">
    {% if slideshow|length > 1 %}
        <ol class="carousel-indicators">
            {% for item in slideshow %}
                {% if loop.first == 1 %}
                    {% set state = 'active' %}
                {% else %}
                    {% set state = '' %}
                {% endif %}

                <li class="{{ state }}" data-target="#featured_slideshow" data-slide-to="{{ loop.index0 }}"></li>
            {% endfor %}
        </ol>
    {% endif %}

    <div class="carousel-inner" role="listbox">
        {% for item in slideshow %}
            {% if loop.first == 1 %}
                {% set state = 'active' %}
            {% else %}
                {% set state = '' %}
            {% endif %}

            <div class="item {{ state }} {{ loop.index0 }}">
                <img src="{{ file_url(item.entity.uri.value) }}"/>
                {% if item.entity.field_image_caption_text.value %}
                    <div class="carousel-caption">
                        <p>{{ item.entity.field_image_caption_text.value }}</p>
                    </div>
                {% endif %}
            </div>
        {% endfor %}
    </div>

    <!-- Controls -->
    {% if slideshow|length > 1 %}
        <a class="left carousel-control" href="#featured_slideshow" role="button" data-slide="prev">
            <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
            <span class="sr-only">Previous</span>
        </a>
        <a class="right carousel-control" href="#featured_slideshow" role="button" data-slide="next">
            <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
            <span class="sr-only">Next</span>
        </a>
    {% endif %}
</div>

